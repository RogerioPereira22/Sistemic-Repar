"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPaymentTotal = void 0;
var getPaymentTotal = function (args) {
    var _a = args.basePrice, basePrice = _a === void 0 ? 0 : _a, priceConditions = args.priceConditions, fieldValues = args.fieldValues;
    var total = basePrice;
    if (Array.isArray(priceConditions) && priceConditions.length > 0) {
        priceConditions.forEach(function (priceCondition) {
            var condition = priceCondition.condition, valueForCondition = priceCondition.valueForCondition, fieldToUse = priceCondition.fieldToUse, operator = priceCondition.operator, valueType = priceCondition.valueType, valueForOperator = priceCondition.valueForOperator;
            var valueOfField = fieldValues === null || fieldValues === void 0 ? void 0 : fieldValues[fieldToUse];
            if (valueOfField) {
                if (condition === 'hasValue'
                    || condition === 'equals' && valueOfField === valueForCondition
                    || condition === 'notEquals' && valueOfField !== valueForCondition) {
                    var valueToUse = Number(valueType === 'valueOfField' ? valueOfField : valueForOperator);
                    switch (operator) {
                        case 'add': {
                            total += valueToUse;
                            break;
                        }
                        case 'subtract': {
                            total -= valueToUse;
                            break;
                        }
                        case 'multiply': {
                            total *= valueToUse;
                            break;
                        }
                        case 'divide': {
                            total /= valueToUse;
                            break;
                        }
                        default: {
                            break;
                        }
                    }
                }
            }
        });
    }
    return total;
};
exports.getPaymentTotal = getPaymentTotal;
//# sourceMappingURL=getPaymentTotal.js.map